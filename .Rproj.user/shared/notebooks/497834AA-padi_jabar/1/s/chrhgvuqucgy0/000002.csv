"0","padi_ratio <- padi %>% "
"0","  select(nama_kota_kabupaten, jenis_komoditi, jumlah_produksi, luas_wilayah) %>% "
"0","  mutate(jumlah_produksi = as.numeric(jumlah_produksi),"
"0","         luas_wilayah_ha = 100*luas_wilayah,"
"0","         ratio_ton_per_ha =  round(jumlah_produksi/luas_wilayah_ha, 2)) %>% "
"0","  group_by(nama_kota_kabupaten, jenis_komoditi) %>% "
"0","  summarise(ratio_ton_per_ha = sum(ratio_ton_per_ha)) %>% "
"0","  ungroup() %>% "
"0","  mutate("
"0","    text = paste(jenis_komoditi, "":"", ratio_ton_per_ha, ""Ton/Ha"")"
"0","  )"
"2","`summarise()` regrouping output by 'nama_kota_kabupaten' (override with `.groups` argument)
"
"0","ratio <- ggplot(padi_ratio, aes(x= ratio_ton_per_ha, y = reorder(nama_kota_kabupaten, ratio_ton_per_ha), text = text, fill = jenis_komoditi))+"
"0","         geom_bar(colour=""black"", stat=""identity"","
"0","             position=position_dodge(),"
"0","             size=.3)+"
"0","         labs(x = NULL, y = NULL, title = ""Rasio Produksi Padi Ton/Hektar Jabar 2017"")+"
"0","         theme(legend.position = ""none"", axis.text.x=element_text(angle =- 90, vjust = 0.5))+"
"0","         scale_x_continuous(labels = scales::unit_format(unit = ""Ton/Ha""))+"
"0","         theme_algoritma+"
"0","        coord_flip()"
"0",""
"0","ggplotly(ratio, tooltip = ""text"") %>% "
"0","  config(displayModeBar = F)"
